
<template name="parser">
  <div class="container">
    <h1>Spent</h1>
    <div class="uploader">
      <input type="file" id="csv-file">
      <button id="upload-csv">Parse</button>
    </div>
    {{#if errors}}
      {{> errorMessage errors=errors}}
    {{/if}}
    {{#if messages}}
      {{> statusMessage messages=messages}}
    {{/if}}
    {{#if receipts}}
      {{> receiptsList receipts=receipts}}
    {{/if}}
  </div>
</template>

<template name="receiptsList">
  <div class="receipts">
    <div class="row header">
      <div class="cell data"><span class="content">Date</span></div>
      <div class="cell payee"><span class="content">Payee</span></div>
      <div class="cell category"><span class="content">Category</span></div>
      <div class="cell account"><span class="content">Account</span></div>
      <div class="cell amount"><span class="content">Amount</span></div>
    </div>
    {{#each receipts}}
      <div class="row {{#if changed}}changed{{/if}}" id="{{_id}}">
        <div class="cell data"><span class="content">{{date}}</span></div>
        <div class="cell payee">
          <span class="content">{{payee}}</span>
          <span class="tooltip old-payee"><strong>Original Label</strong> {{oldPayee}}</span>
        </div>
        <div class="cell category"><span class="content">{{{category}}}</span></div>
        <div class="cell account"><span class="content">{{account}}</span></div>
        <div class="cell amount"><span class="content">{{amount}}</span></div>
      </div>
    {{/each}}
  </div>
</template>
